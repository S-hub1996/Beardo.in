<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEARCH</title>
    <link rel="stylesheet" href="./search.css">
    <link
    rel="icon"
    href="logo/who_we_are.png"
    type="image/x-icon"
    />
</head>
<body>
    <div id="mcontainer">
        <div id="searchbar">
            <input type="text" placeholder="Search for a Product" id="searchproduct"/>
            <div id="cross" >&#10006</div>
        </div>
        <br>
        <div id="browse">
            <p id="bc">Browse Categories</p>
            <br>
            <div id="sitems"></div>
        </div>
        <br>
        <div id="magic">
            <p id="tp">Trending Products</p>
            <div id="scrollingdivs"></div>
        </div>
    </div>
</body>
</html>

<script type="module">




    import { facedata } from "./components/searchdata.js";
    console.log(facedata);

    let parent = document.getElementById("sitems");

    const append = ( sitems, facedata ) =>{
        parent.innerHTML = null;

        facedata.forEach(({ img_url, name }) => {
            let mdiv = document.createElement('div');
            mdiv.setAttribute('id', 'mdiv');

            let image = document.createElement("img");
            image.src = img_url;
            image.setAttribute('id', 'image');

            let title = document.createElement("h5");
            title.innerText = name;
            title.setAttribute('id', 'title');

            mdiv.append(image, title);
            parent.append(mdiv);
        })
    }

    append(sitems, facedata);

    import { mostWantedCombosProdObj } from "./components/cartdata.js";
    console.log(mostWantedCombosProdObj);

    let parent1 = document.getElementById('scrollingdivs')
    const scroll = (scrollingdivs, mostWantedCombosProdObj) => {
        parent1.innerHTML = null;
        mostWantedCombosProdObj.forEach((  {imageUrl, name, discountSticker, price, cutPrice} ) => {
            let div = document.createElement("div");
        div.setAttribute('id', 'minicontainer');

        let img = document.createElement("img");
        img.src = imageUrl;
        img.setAttribute("id", "pic");


        let title = document.createElement("h2");
        title.innerText = name;
        title.setAttribute('id', 'brand');


        let strikeOffPrice = document.createElement("img");
        strikeOffPrice.src = discountSticker;
        strikeOffPrice.setAttribute('id', 'disc');

       

        let mainPrice = document.createElement("h5");
        mainPrice.innerText = price
        mainPrice.setAttribute('id', 'price');

        let cutOffPrice = document.createElement("h5");
        cutOffPrice.setAttribute('id', 'cutoffprice');
        



        let button = document.createElement("button");
        button.innerText = `Add To Cart`
        button.setAttribute('id', 'addtocart');
        
        
        div.append(img, title, cutOffPrice, mainPrice, button);
        parent1.append(div);
    }) 
    }
    scroll(scrollingdivs, mostWantedCombosProdObj);



    document.getElementById("#cross").addEventListener("click", locate);
event.preventDefault();
function locate(){
    window.location.href = "./index.html";
}
</script>

<script type="module">

    import { searcharr } from "./components/searchdata.js";
    console.log("1",searcharr);
    
    var searchresult = document.getElementById('searchproduct').value;
    console.log(searchresult);




</script>


<!-- array in foreach, 
elem.name split with space and store it in keywords variable
before split create an array
traverse the keywords with comparision of value which we got from search bar
if value == keyword[a]
then we will push that obj into array
when elem is undefined we understand that we serached entire cart array
then
we will append the array which we got from matched keywords
 -->